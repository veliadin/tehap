{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adinv\\\\FrontEnd Projects\\\\AppStater_v01\\\\src\\\\pages\\\\UserSignupPage.js\";\nimport React from 'react';\nimport Input from '../components/input';\nimport { withTranslation } from 'react-i18next';\nimport ButtonWithProgress from '../components/buttonWithProgres';\nimport { withApiProgress } from '../shared/ApiProgress';\nimport { connect } from 'react-redux';\nimport { signupHandler } from '../redux/authActions';\n\nconst UserSignupPage = props => {\n  const [username, setUsername] = useState();\n  const [displayName, setDisplayName] = useState();\n  const [passwordRepeat, setPasswordRepeat] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState({});\n\n  const onChange = event => {\n    const {\n      t\n    } = props;\n    /*const { name, value } = event.target;\r\n    const errors = { ...this.state.errors }\r\n    errors[name] = undefined;\r\n    if (name === 'password' || name === 'passwordRepeat') {\r\n        if (name === 'password' && value !== this.state.passwordRepeat) {\r\n            errors.passwordRepeat = t('Password mismatch');\r\n        } else if (name === 'passwordRepeat' && value !== this.state.password) {\r\n            errors.passwordRepeat = t('Password mismatch');\r\n        }\r\n        else {\r\n            errors.passwordRepeat = undefined;\r\n        }\r\n    }\r\n    this.setState({\r\n        [name]: value,\r\n        errors\r\n    });*/\n  };\n\n  const onClickSignup = async event => {\n    event.preventDefault();\n    const {\n      history,\n      dispatch\n    } = props; //signuphandler\n\n    const {\n      push\n    } = history; //signup handler\n    //const { username, displayName, password } = this.state;\n\n    const body = {\n      username,\n      displayName,\n      password\n    };\n\n    try {\n      const response = await dispatch(signupHandler(body));\n      push('/login');\n    } catch (error) {\n      if (error.response.data.validationErrors) {//this.setState({ errors: error.response.data.validationErrors });\n      }\n    }\n  };\n\n  const {\n    username: usernameError,\n    displayName: displayNameError,\n    password: passwordError,\n    passwordRepeat: passwordRepeatError\n  } = errors;\n  const {\n    t,\n    pendingApiCall\n  } = props;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, t('Sign Up')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"username\",\n    label: t('Username'),\n    error: username,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"displayName\",\n    label: t('Display Name'),\n    error: displayName,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"password\",\n    label: t('Password'),\n    error: password,\n    onChange: onChange,\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"passwordRepeat\",\n    label: t('Password Repeat'),\n    error: passwordRepeat,\n    onChange: onChange,\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(ButtonWithProgress, {\n    onClick: onClickSignup,\n    disabled: pendingApiCall || passwordRepeat !== undefined,\n    pendingApiCall: pendingApiCall,\n    text: t('Sign Up'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }))));\n};\n\nconst UserSignupPageWithApiProgress = withApiProgress(UserSignupPage, '/api/createuser');\nconst UserSignupPageWithTranslation = withTranslation()(UserSignupPageWithApiProgress);\nexport default connect()(UserSignupPageWithTranslation);","map":{"version":3,"sources":["C:/Users/adinv/FrontEnd Projects/AppStater_v01/src/pages/UserSignupPage.js"],"names":["React","Input","withTranslation","ButtonWithProgress","withApiProgress","connect","signupHandler","UserSignupPage","props","username","setUsername","useState","displayName","setDisplayName","passwordRepeat","setPasswordRepeat","password","setPassword","error","setError","onChange","event","t","onClickSignup","preventDefault","history","dispatch","push","body","response","data","validationErrors","usernameError","displayNameError","passwordError","passwordRepeatError","errors","pendingApiCall","undefined","UserSignupPageWithApiProgress","UserSignupPageWithTranslation"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Input from '../components/input'\r\nimport { withTranslation } from 'react-i18next';\r\nimport ButtonWithProgress from '../components/buttonWithProgres';\r\nimport { withApiProgress } from '../shared/ApiProgress';\r\nimport { connect } from 'react-redux';\r\nimport { signupHandler } from '../redux/authActions';\r\n\r\n\r\nconst UserSignupPage = (props) => {\r\n\r\n    const [username, setUsername] = useState();\r\n    const [displayName, setDisplayName] = useState();\r\n    const [passwordRepeat, setPasswordRepeat] = useState();\r\n    const [password, setPassword] = useState();\r\n    const [error, setError] = useState({});\r\n\r\n\r\n    const onChange = event => {\r\n        const { t } = props;\r\n        /*const { name, value } = event.target;\r\n        const errors = { ...this.state.errors }\r\n        errors[name] = undefined;\r\n        if (name === 'password' || name === 'passwordRepeat') {\r\n            if (name === 'password' && value !== this.state.passwordRepeat) {\r\n                errors.passwordRepeat = t('Password mismatch');\r\n            } else if (name === 'passwordRepeat' && value !== this.state.password) {\r\n                errors.passwordRepeat = t('Password mismatch');\r\n            }\r\n            else {\r\n                errors.passwordRepeat = undefined;\r\n            }\r\n        }\r\n        this.setState({\r\n            [name]: value,\r\n            errors\r\n        });*/\r\n    };\r\n\r\n    const onClickSignup = async event => {\r\n        event.preventDefault();\r\n\r\n        const { history, dispatch } = props; //signuphandler\r\n        const { push } = history; //signup handler\r\n        //const { username, displayName, password } = this.state;\r\n        const body = {\r\n            username,\r\n            displayName,\r\n            password\r\n        }\r\n\r\n        try {\r\n            const response = await dispatch(signupHandler(body));\r\n            push('/login');\r\n        } catch (error) {\r\n            if (error.response.data.validationErrors) {\r\n                //this.setState({ errors: error.response.data.validationErrors });\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    const { username: usernameError, displayName: displayNameError, password: passwordError, passwordRepeat: passwordRepeatError } = errors;\r\n    const { t, pendingApiCall } = props;\r\n    return (\r\n        <div className=\"container\">\r\n            <form>\r\n                <h1 className=\"text-center\">{t('Sign Up')}</h1>\r\n                <div className=\"form-group\">\r\n                    <Input name=\"username\" label={t('Username')} error={username} onChange={onChange} />\r\n                    <Input name=\"displayName\" label={t('Display Name')} error={displayName} onChange={onChange} />\r\n                    <Input name=\"password\" label={t('Password')} error={password} onChange={onChange} type=\"password\" />\r\n                    <Input name=\"passwordRepeat\" label={t('Password Repeat')} error={passwordRepeat} onChange={onChange} type=\"password\" />\r\n                    <ButtonWithProgress\r\n                        onClick={onClickSignup}\r\n                        disabled={pendingApiCall || passwordRepeat !== undefined}\r\n                        pendingApiCall={pendingApiCall}\r\n                        text={t('Sign Up')} />\r\n\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nconst UserSignupPageWithApiProgress = withApiProgress(UserSignupPage, '/api/createuser');\r\nconst UserSignupPageWithTranslation = withTranslation()(UserSignupPageWithApiProgress);\r\nexport default connect()(UserSignupPageWithTranslation);\r\n"]},"metadata":{},"sourceType":"module"}