{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\JsProjects\\\\Tehap_FrontEnd\\\\Tehap_FrontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\JsProjects\\\\Tehap_FrontEnd\\\\Tehap_FrontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\JsProjects\\\\Tehap_FrontEnd\\\\Tehap_FrontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import ProfileCard from\"../components/ProfileCard\";import{getUser}from\"../api/apiCalls\";import{useTranslation}from\"react-i18next\";import{useApiProgress}from'../shared/ApiProgress';import Spinner from\"../components/Spinner\";import{useParams}from\"react-router-dom\";var UserPage=function UserPage(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),notFound=_useState4[0],setNotFound=_useState4[1];var _useParams=useParams(),username=_useParams.username;//or useParams();\nvar _useTranslation=useTranslation(),t=_useTranslation.t;var pendingApiCall=useApiProgress('get','/api/users/'+username,true);useEffect(function(){setNotFound(false);},[user]);useEffect(function(){var loadUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getUser(username);case 3:response=_context.sent;setUser(response.data);setNotFound(false);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setNotFound(true);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function loadUser(){return _ref.apply(this,arguments);};}();loadUser();},[username]);if(notFound){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger text-center\",role:\"alert\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{class:\"material-icons\",style:{fontSize:\"48px\"}},\"error\")),t(\"User not found.\")));}if(pendingApiCall||user.username!==username){return/*#__PURE__*/React.createElement(Spinner,null);}return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(ProfileCard,{user:user}));};export default UserPage;","map":{"version":3,"sources":["D:/JsProjects/Tehap_FrontEnd/Tehap_FrontEnd/src/pages/UserPage.js"],"names":["React","useState","useEffect","ProfileCard","getUser","useTranslation","useApiProgress","Spinner","useParams","UserPage","props","user","setUser","notFound","setNotFound","username","t","pendingApiCall","loadUser","response","data","fontSize"],"mappings":"2fAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,cAAT,KAA+B,eAA/B,CACA,OAASC,cAAT,KAA+B,uBAA/B,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,eAEFT,QAAQ,CAAC,EAAD,CAFN,wCAEnBU,IAFmB,eAEbC,OAFa,8BAGMX,QAAQ,CAAC,KAAD,CAHd,yCAGnBY,QAHmB,eAGTC,WAHS,8BAKLN,SAAS,EALJ,CAKlBO,QALkB,YAKlBA,QALkB,CAKQ;AALR,oBAOZV,cAAc,EAPF,CAOlBW,CAPkB,iBAOlBA,CAPkB,CAS1B,GAAMC,CAAAA,cAAc,CAAGX,cAAc,CAAC,KAAD,CAAQ,cAAgBS,QAAxB,CAAkC,IAAlC,CAArC,CAGAb,SAAS,CAAC,UAAM,CACdY,WAAW,CAAC,KAAD,CAAX,CACD,CAFQ,CAEN,CAACH,IAAD,CAFM,CAAT,CAKAT,SAAS,CAAC,UAAM,CACd,GAAMgB,CAAAA,QAAQ,0FAAG,sLAEUd,CAAAA,OAAO,CAACW,QAAD,CAFjB,QAEPI,QAFO,eAGbP,OAAO,CAACO,QAAQ,CAACC,IAAV,CAAP,CACAN,WAAW,CAAC,KAAD,CAAX,CAJa,+EAMbA,WAAW,CAAC,IAAD,CAAX,CANa,oEAAH,kBAARI,CAAAA,QAAQ,0CAAd,CASAA,QAAQ,GACT,CAXQ,CAWN,CAACH,QAAD,CAXM,CAAT,CAcA,GAAIF,QAAJ,CAAc,CACZ,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,gCAAf,CAAgD,IAAI,CAAC,OAArD,eACE,4CACE,4BAAM,KAAK,CAAC,gBAAZ,CAA6B,KAAK,CAAE,CAAEQ,QAAQ,CAAE,MAAZ,CAApC,UADF,CADF,CAMGL,CAAC,CAAC,iBAAD,CANJ,CADF,CADF,CAYD,CAGD,GAAIC,cAAc,EAAIN,IAAI,CAACI,QAAL,GAAkBA,QAAxC,CAAkD,CAChD,mBAAO,oBAAC,OAAD,MAAP,CACD,CAKD,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,oBAAC,WAAD,EAAa,IAAI,CAAEJ,IAAnB,EADF,CADF,CAKD,CA3DD,CA6DA,cAAeF,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport ProfileCard from \"../components/ProfileCard\";\r\nimport { getUser } from \"../api/apiCalls\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport Spinner from \"../components/Spinner\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst UserPage = (props) => {\r\n\r\n  const [user, setUser] = useState({});\r\n  const [notFound, setNotFound] = useState(false);\r\n\r\n  const { username } = useParams(); //or useParams();\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const pendingApiCall = useApiProgress('get', '/api/users/' + username, true);\r\n\r\n\r\n  useEffect(() => {\r\n    setNotFound(false);\r\n  }, [user]);\r\n\r\n\r\n  useEffect(() => {\r\n    const loadUser = async () => {\r\n      try {\r\n        const response = await getUser(username);\r\n        setUser(response.data);\r\n        setNotFound(false);\r\n      } catch (error) {\r\n        setNotFound(true);\r\n      }\r\n    };\r\n    loadUser();\r\n  }, [username]);\r\n\r\n\r\n  if (notFound) {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"alert alert-danger text-center\" role=\"alert\">\r\n          <div>\r\n            <span class=\"material-icons\" style={{ fontSize: \"48px\" }}>\r\n              error\r\n            </span>\r\n          </div>\r\n          {t(\"User not found.\")}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n  if (pendingApiCall || user.username !== username) {\r\n    return <Spinner />\r\n  }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <ProfileCard user={user} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPage;\r\n"]},"metadata":{},"sourceType":"module"}