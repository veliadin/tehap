{"ast":null,"code":"import _slicedToArray from\"D:\\\\JsProjects\\\\Tehap_FrontEnd\\\\Tehap_FrontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from'react';import icon from'../assets/icon-light.png';import{Link}from'react-router-dom';import{useTranslation}from'react-i18next';import{useDispatch,useSelector}from'react-redux';import{logoutSucces}from'../redux/authActions';import ProfileImageWithDefault from'./ProfileImageWithDefault';import{useState}from'react';import{useEffect}from'react';import{useRef}from'react';var TopBar=function TopBar(props){var _useTranslation=useTranslation(),t=_useTranslation.t;var _useSelector=useSelector(function(store){//reduxState'ten alıyoruz gibi...\nreturn{isLoggedIn:store.isLoggedIn,username:store.username,displayName:store.displayName,image:store.image};}),username=_useSelector.username,isLoggedIn=_useSelector.isLoggedIn,displayName=_useSelector.displayName,image=_useSelector.image;var menuArea=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),menuVisible=_useState2[0],setMenuVisible=_useState2[1];useEffect(function(){document.addEventListener('click',menuClickTracker);return function(){document.removeEventListener('click',menuClickTracker);};},[isLoggedIn]);var menuClickTracker=function menuClickTracker(event){if(menuArea.current===null||!menuArea.current.contains(event.target)){setMenuVisible(false);}};var dispatch=useDispatch();var onLogoutSuccess=function onLogoutSuccess(){dispatch(logoutSucces());};var links=/*#__PURE__*/React.createElement(\"div\",{className:\"collapse navbar-collapse\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav ml-auto\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{className:\"nav-link\",to:\"/\"},t('Events'))),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{className:\"nav-link\",to:\"/login\"},t('Login'))),/*#__PURE__*/React.createElement(\"li\",{class:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{className:\"nav-link\",to:\"/signup\"},t('Sign Up')))));if(isLoggedIn){var dropdownClass='dropdown-menu p-0 shadow';if(menuVisible){dropdownClass+=' show';}links=/*#__PURE__*/React.createElement(\"div\",{className:\"collapse navbar-collapse \"},/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav ml-auto \"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item mr-2\"},/*#__PURE__*/React.createElement(Link,{className:\"nav-link \",style:{fontSize:'20px',color:'white'},to:\"/\"},t('Events'))),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item dropdown\",ref:menuArea},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",style:{cursor:'pointer'},onClick:function onClick(){return setMenuVisible(true);}},/*#__PURE__*/React.createElement(ProfileImageWithDefault,{image:image,width:\"32\",height:\"32\",className:\"rounded-circle m-auto\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"nav-link dropdown-toggle\",style:{fontSize:'20px',color:'white'}},displayName)),/*#__PURE__*/React.createElement(\"div\",{className:dropdownClass,style:{cursor:'pointer'}},/*#__PURE__*/React.createElement(Link,{className:\"nav-link dropdown-item d-flex p-2\",onClick:function onClick(){return setMenuVisible(false);},style:{color:'black'},to:'/user/'+username},/*#__PURE__*/React.createElement(\"span\",{className:\"material-icons text-info mr-2\"},\"person\"),t('My Profile')),/*#__PURE__*/React.createElement(\"span\",{className:\"nav-link dropdown-item d-flex p-2\",onClick:onLogoutSuccess,style:{cursor:'pointer',color:'black'}},/*#__PURE__*/React.createElement(\"span\",{className:\"material-icons text-danger mr-2\"},\"power_settings_new\"),t('Logout'))))));}return/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(Link,{className:\"navbar-brand text-\",to:\"/\"},/*#__PURE__*/React.createElement(\"img\",{src:icon,width:\"50\",alt:\"icon\"}),\" TEHAPY\"),links));};export default TopBar;","map":{"version":3,"sources":["D:/JsProjects/Tehap_FrontEnd/Tehap_FrontEnd/src/components/TopBar.js"],"names":["React","icon","Link","useTranslation","useDispatch","useSelector","logoutSucces","ProfileImageWithDefault","useState","useEffect","useRef","TopBar","props","t","store","isLoggedIn","username","displayName","image","menuArea","menuVisible","setMenuVisible","document","addEventListener","menuClickTracker","removeEventListener","event","current","contains","target","dispatch","onLogoutSuccess","links","dropdownClass","fontSize","color","cursor"],"mappings":"0KAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,0BAAjB,CAEA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,cAAT,KAA+B,eAA/B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,YAAT,KAA6B,sBAA7B,CACA,MAAOC,CAAAA,uBAAP,KAAoC,2BAApC,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,MAAT,KAAuB,OAAvB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,qBAERT,cAAc,EAFN,CAEdU,CAFc,iBAEdA,CAFc,kBAI+BR,WAAW,CAAC,SAACS,KAAD,CAAW,CAAE;AAC1E,MAAO,CACHC,UAAU,CAAED,KAAK,CAACC,UADf,CAEHC,QAAQ,CAAEF,KAAK,CAACE,QAFb,CAGHC,WAAW,CAAEH,KAAK,CAACG,WAHhB,CAIHC,KAAK,CAAEJ,KAAK,CAACI,KAJV,CAAP,CAMH,CAP+D,CAJ1C,CAIdF,QAJc,cAIdA,QAJc,CAIJD,UAJI,cAIJA,UAJI,CAIQE,WAJR,cAIQA,WAJR,CAIqBC,KAJrB,cAIqBA,KAJrB,CActB,GAAMC,CAAAA,QAAQ,CAAGT,MAAM,CAAC,IAAD,CAAvB,CAdsB,cAegBF,QAAQ,CAAC,KAAD,CAfxB,wCAefY,WAfe,eAeFC,cAfE,eAiBtBZ,SAAS,CAAC,UAAM,CACZa,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAmCC,gBAAnC,EACA,MAAO,WAAM,CACTF,QAAQ,CAACG,mBAAT,CAA6B,OAA7B,CAAsCD,gBAAtC,EACH,CAFD,CAGH,CALQ,CAKN,CAACT,UAAD,CALM,CAAT,CAOA,GAAMS,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACE,KAAD,CAAW,CAChC,GAAIP,QAAQ,CAACQ,OAAT,GAAqB,IAArB,EAA6B,CAACR,QAAQ,CAACQ,OAAT,CAAiBC,QAAjB,CAA0BF,KAAK,CAACG,MAAhC,CAAlC,CAA2E,CACvER,cAAc,CAAC,KAAD,CAAd,CACH,CACJ,CAJD,CAMA,GAAMS,CAAAA,QAAQ,CAAG1B,WAAW,EAA5B,CAEA,GAAM2B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1BD,QAAQ,CAACxB,YAAY,EAAb,CAAR,CACH,CAFD,CAKA,GAAI0B,CAAAA,KAAK,cACL,2BAAK,SAAS,CAAC,0BAAf,eACI,0BAAI,SAAS,CAAC,oBAAd,eACI,0BAAI,SAAS,CAAC,UAAd,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,CACI,EAAE,CAAC,GADP,EACYnB,CAAC,CAAC,QAAD,CADb,CADJ,CADJ,cAKI,0BAAI,SAAS,CAAC,UAAd,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,CACI,EAAE,CAAC,QADP,EACiBA,CAAC,CAAC,OAAD,CADlB,CADJ,CALJ,cASI,0BAAI,KAAK,CAAC,UAAV,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,CACI,EAAE,CAAC,SADP,EACkBA,CAAC,CAAC,SAAD,CADnB,CADJ,CATJ,CADJ,CADJ,CAoBA,GAAIE,UAAJ,CAAgB,CACZ,GAAIkB,CAAAA,aAAa,CAAG,0BAApB,CACA,GAAIb,WAAJ,CAAiB,CACba,aAAa,EAAI,OAAjB,CACH,CACDD,KAAK,cACD,2BAAK,SAAS,CAAC,2BAAf,eACI,0BAAI,SAAS,CAAC,qBAAd,eACI,0BAAI,SAAS,CAAC,eAAd,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,WAAhB,CAA4B,KAAK,CAAE,CAAEE,QAAQ,CAAE,MAAZ,CAAoBC,KAAK,CAAE,OAA3B,CAAnC,CACI,EAAE,CAAC,GADP,EACYtB,CAAC,CAAC,QAAD,CADb,CADJ,CADJ,cAKI,0BAAI,SAAS,CAAC,mBAAd,CAAkC,GAAG,CAAEM,QAAvC,eACI,2BAAK,SAAS,CAAC,QAAf,CAAwB,KAAK,CAAE,CAAEiB,MAAM,CAAE,SAAV,CAA/B,CAAsD,OAAO,CAAE,yBAAMf,CAAAA,cAAc,CAAC,IAAD,CAApB,EAA/D,eACI,oBAAC,uBAAD,EAAyB,KAAK,CAAEH,KAAhC,CAAuC,KAAK,CAAC,IAA7C,CAAkD,MAAM,CAAC,IAAzD,CAA8D,SAAS,CAAC,uBAAxE,EADJ,cAEI,4BAAM,SAAS,CAAC,0BAAhB,CAA2C,KAAK,CAAE,CAAEgB,QAAQ,CAAE,MAAZ,CAAoBC,KAAK,CAAE,OAA3B,CAAlD,EACKlB,WADL,CAFJ,CADJ,cAOI,2BAAK,SAAS,CAAEgB,aAAhB,CAA+B,KAAK,CAAE,CAAEG,MAAM,CAAE,SAAV,CAAtC,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,mCAAhB,CACI,OAAO,CAAE,yBAAMf,CAAAA,cAAc,CAAC,KAAD,CAApB,EADb,CAEI,KAAK,CAAE,CAAEc,KAAK,CAAE,OAAT,CAFX,CAGI,EAAE,CAAE,SAAWnB,QAHnB,eAII,4BAAM,SAAS,CAAC,+BAAhB,WAJJ,CAOKH,CAAC,CAAC,YAAD,CAPN,CADJ,cAUI,4BAAM,SAAS,CAAC,mCAAhB,CACI,OAAO,CAAEkB,eADb,CAEI,KAAK,CAAE,CAAEK,MAAM,CAAE,SAAV,CAAqBD,KAAK,CAAE,OAA5B,CAFX,eAGI,4BAAM,SAAS,CAAC,iCAAhB,uBAHJ,CAMKtB,CAAC,CAAC,QAAD,CANN,CAVJ,CAPJ,CALJ,CADJ,CADJ,CAuCH,CACD,mBACI,2BAAK,SAAS,CAAC,uDAAf,eACI,2BAAK,SAAS,CAAC,WAAf,eACI,oBAAC,IAAD,EAAM,SAAS,CAAC,oBAAhB,CAAqC,EAAE,CAAC,GAAxC,eACI,2BAAK,GAAG,CAAEZ,IAAV,CAAgB,KAAK,CAAC,IAAtB,CAA2B,GAAG,CAAC,MAA/B,EADJ,WADJ,CAIK+B,KAJL,CADJ,CADJ,CAUH,CAhHD,CAmHA,cAAerB,CAAAA,MAAf","sourcesContent":["import React from 'react';\r\nimport icon from '../assets/icon-light.png';\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logoutSucces } from '../redux/authActions';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useRef } from 'react';\r\n\r\nconst TopBar = (props) => {\r\n\r\n    const { t } = useTranslation();\r\n\r\n    const { username, isLoggedIn, displayName, image } = useSelector((store) => { //reduxState'ten alıyoruz gibi...\r\n        return {\r\n            isLoggedIn: store.isLoggedIn,\r\n            username: store.username,\r\n            displayName: store.displayName,\r\n            image: store.image,\r\n        }\r\n    })\r\n\r\n\r\n    const menuArea = useRef(null);\r\n    const [menuVisible, setMenuVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('click', menuClickTracker);\r\n        return () => {\r\n            document.removeEventListener('click', menuClickTracker);\r\n        }\r\n    }, [isLoggedIn]);\r\n\r\n    const menuClickTracker = (event) => {\r\n        if (menuArea.current === null || !menuArea.current.contains(event.target)) {\r\n            setMenuVisible(false);\r\n        }\r\n    };\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const onLogoutSuccess = () => {\r\n        dispatch(logoutSucces());\r\n    }\r\n\r\n\r\n    let links = (\r\n        <div className=\"collapse navbar-collapse\">\r\n            <ul className=\"navbar-nav ml-auto\">\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\"\r\n                        to=\"/\">{t('Events')}</Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\"\r\n                        to=\"/login\">{t('Login')}</Link>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <Link className=\"nav-link\"\r\n                        to=\"/signup\">{t('Sign Up')}</Link>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n\r\n    );\r\n    if (isLoggedIn) {\r\n        let dropdownClass = 'dropdown-menu p-0 shadow';\r\n        if (menuVisible) {\r\n            dropdownClass += ' show';\r\n        }\r\n        links = (\r\n            <div className=\"collapse navbar-collapse \">\r\n                <ul className=\"navbar-nav ml-auto \">\r\n                    <li className=\"nav-item mr-2\">\r\n                        <Link className=\"nav-link \" style={{ fontSize: '20px', color: 'white' }}\r\n                            to=\"/\">{t('Events')}</Link>\r\n                    </li>\r\n                    <li className=\"nav-item dropdown\" ref={menuArea} >\r\n                        <div className=\"d-flex\" style={{ cursor: 'pointer' }} onClick={() => setMenuVisible(true)}>\r\n                            <ProfileImageWithDefault image={image} width=\"32\" height=\"32\" className=\"rounded-circle m-auto\" />\r\n                            <span className=\"nav-link dropdown-toggle\" style={{ fontSize: '20px', color: 'white' }}>\r\n                                {displayName}\r\n                            </span>\r\n                        </div>\r\n                        <div className={dropdownClass} style={{ cursor: 'pointer' }} >\r\n                            <Link className=\"nav-link dropdown-item d-flex p-2\"\r\n                                onClick={() => setMenuVisible(false)}\r\n                                style={{ color: 'black' }}\r\n                                to={'/user/' + username}>\r\n                                <span className=\"material-icons text-info mr-2\">\r\n                                    person\r\n                                </span>\r\n                                {t('My Profile')}\r\n                            </Link>\r\n                            <span className=\"nav-link dropdown-item d-flex p-2\"\r\n                                onClick={onLogoutSuccess}\r\n                                style={{ cursor: 'pointer', color: 'black' }}>\r\n                                <span className=\"material-icons text-danger mr-2\">\r\n                                    power_settings_new\r\n                                </span>\r\n                                {t('Logout')}\r\n                            </span>\r\n                        </div>\r\n                    </li>\r\n\r\n\r\n                </ul>\r\n            </div >\r\n        )\r\n    }\r\n    return (\r\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\">\r\n            <div className=\"container\">\r\n                <Link className=\"navbar-brand text-\" to=\"/\">\r\n                    <img src={icon} width=\"50\" alt=\"icon\" /> TEHAPY\r\n                </Link>\r\n                {links}\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\n\r\nexport default TopBar;\r\n"]},"metadata":{},"sourceType":"module"}