{"ast":null,"code":"import{createStore,applyMiddleware,compose}from'redux';import authReducer from'./authReducer';import SecureLS from'secure-ls';import thunk from'redux-thunk';import{setAuthorizationHeader}from'../api/apiCalls';var secureLs=new SecureLS();var getStateFromStorage=function getStateFromStorage(){var appAuth=secureLs.get('app-auth');var stateInLocalStorage={isLoggedIn:false,username:undefined,displayName:undefined,image:undefined,password:undefined,email:undefined,picture:undefined};if(appAuth){return appAuth;}return stateInLocalStorage;};var updateStateInStorage=function updateStateInStorage(newState){secureLs.set('app-auth',newState);};var configureStore=function configureStore(){var initialState=getStateFromStorage();setAuthorizationHeader(initialState);var composeEnhancers=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||compose;// window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\nvar store=createStore(authReducer,initialState,composeEnhancers(applyMiddleware(thunk)));store.subscribe(function(){//store'da her hangi bir değişimde arkadak çalışacak\nupdateStateInStorage(store.getState());setAuthorizationHeader(store.getState());});return store;};export default configureStore;","map":{"version":3,"sources":["D:/JsProjects/Tehap_FrontEnd/Tehap_FrontEnd/src/redux/configureStore.js"],"names":["createStore","applyMiddleware","compose","authReducer","SecureLS","thunk","setAuthorizationHeader","secureLs","getStateFromStorage","appAuth","get","stateInLocalStorage","isLoggedIn","username","undefined","displayName","image","password","email","picture","updateStateInStorage","newState","set","configureStore","initialState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","subscribe","getState"],"mappings":"AAAA,OAASA,WAAT,CAAsBC,eAAtB,CAAuCC,OAAvC,KAAsD,OAAtD,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,OAASC,sBAAT,KAAuC,iBAAvC,CAGA,GAAMC,CAAAA,QAAQ,CAAG,GAAIH,CAAAA,QAAJ,EAAjB,CAEA,GAAMI,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAC9B,GAAMC,CAAAA,OAAO,CAAGF,QAAQ,CAACG,GAAT,CAAa,UAAb,CAAhB,CAEA,GAAIC,CAAAA,mBAAmB,CAAG,CACtBC,UAAU,CAAE,KADU,CAEtBC,QAAQ,CAAEC,SAFY,CAGtBC,WAAW,CAAED,SAHS,CAItBE,KAAK,CAAEF,SAJe,CAKtBG,QAAQ,CAAEH,SALY,CAMtBI,KAAK,CAAEJ,SANe,CAOtBK,OAAO,CAAEL,SAPa,CAA1B,CAUA,GAAIL,OAAJ,CAAa,CACT,MAAOA,CAAAA,OAAP,CACH,CACD,MAAOE,CAAAA,mBAAP,CACH,CAjBD,CAmBA,GAAMS,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAAAC,QAAQ,CAAI,CACrCd,QAAQ,CAACe,GAAT,CAAa,UAAb,CAAyBD,QAAzB,EAEH,CAHD,CAKA,GAAME,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CACzB,GAAMC,CAAAA,YAAY,CAAGhB,mBAAmB,EAAxC,CACAF,sBAAsB,CAACkB,YAAD,CAAtB,CACA,GAAMC,CAAAA,gBAAgB,CAAGC,MAAM,CAACC,oCAAP,EAA+CzB,OAAxE,CACA;AACA,GAAM0B,CAAAA,KAAK,CAAG5B,WAAW,CAACG,WAAD,CAAcqB,YAAd,CAA4BC,gBAAgB,CAACxB,eAAe,CAACI,KAAD,CAAhB,CAA5C,CAAzB,CAEAuB,KAAK,CAACC,SAAN,CAAgB,UAAM,CAAC;AACnBT,oBAAoB,CAACQ,KAAK,CAACE,QAAN,EAAD,CAApB,CACAxB,sBAAsB,CAACsB,KAAK,CAACE,QAAN,EAAD,CAAtB,CACH,CAHD,EAKA,MAAOF,CAAAA,KAAP,CACH,CAbD,CAeA,cAAeL,CAAAA,cAAf","sourcesContent":["import { createStore, applyMiddleware, compose } from 'redux';\r\nimport authReducer from './authReducer';\r\nimport SecureLS from 'secure-ls';\r\nimport thunk from 'redux-thunk';\r\nimport { setAuthorizationHeader } from '../api/apiCalls';\r\n\r\n\r\nconst secureLs = new SecureLS();\r\n\r\nconst getStateFromStorage = () => {\r\n    const appAuth = secureLs.get('app-auth');\r\n\r\n    let stateInLocalStorage = {\r\n        isLoggedIn: false,\r\n        username: undefined,\r\n        displayName: undefined,\r\n        image: undefined,\r\n        password: undefined,\r\n        email: undefined,\r\n        picture: undefined,\r\n    }\r\n\r\n    if (appAuth) {\r\n        return appAuth;\r\n    }\r\n    return stateInLocalStorage;\r\n};\r\n\r\nconst updateStateInStorage = newState => {\r\n    secureLs.set('app-auth', newState);\r\n\r\n};\r\n\r\nconst configureStore = () => {\r\n    const initialState = getStateFromStorage();\r\n    setAuthorizationHeader(initialState);\r\n    const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n    // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    const store = createStore(authReducer, initialState, composeEnhancers(applyMiddleware(thunk)));\r\n\r\n    store.subscribe(() => {//store'da her hangi bir değişimde arkadak çalışacak\r\n        updateStateInStorage(store.getState());\r\n        setAuthorizationHeader(store.getState());\r\n    });\r\n\r\n    return store;\r\n}\r\n\r\nexport default configureStore;"]},"metadata":{},"sourceType":"module"}